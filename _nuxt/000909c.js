(window.webpackJsonp=window.webpackJsonp||[]).push([[1,22,25,33,36,92],{681:function(e,t){e.exports={props:{value:{type:null}},data:function(){return{innerValue:""}},watch:{innerValue:function(e){this.$emit("input",e)},value:function(e){this.innerValue=e}},created:function(){this.value&&(this.innerValue=this.value)}}},682:function(e,t,n){"use strict";n.r(t);n(128);var input=n(681),r={mixins:[n.n(input).a],props:{vid:{type:String},rules:{type:[Object,String],default:""},normal:Boolean,margin:{type:String,default:"mb-3"}},methods:{getMessage:function(e,t,n){return e[0]?e[0]:n}}},o=n(89),component=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("ValidationProvider",{attrs:{vid:e.vid,name:e.$attrs.name||e.$attrs.label,rules:e.rules},scopedSlots:e._u([{key:"default",fn:function(n){var r=n.errors,o=n.valid;return[t("b-field",e._b({class:e.margin,attrs:{type:{"is-danger":r[0],"is-success":o&&!e.$attrs.readonly},message:e.getMessage(r,o,e.$attrs.message)}},"b-field",e.$attrs,!1),[e._t("input",(function(){return[e.normal?t("b-input",e._b({model:{value:e.innerValue,callback:function(t){e.innerValue=t},expression:"innerValue"}},"b-input",e.$attrs,!1)):t("b-input",e._b({on:{input:function(t){e.innerValue=e.innerValue.toUpperCase()}},model:{value:e.innerValue,callback:function(t){e.innerValue=t},expression:"innerValue"}},"b-input",e.$attrs,!1))]}))],2)]}}],null,!0)})}),[],!1,null,null,null);t.default=component.exports},688:function(e,t,n){"use strict";n.r(t);n(61),n(58),n(59),n(38),n(70),n(60),n(71);var r=n(26),o=n(152);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var c={props:{handleSubmit:Function,saving:Boolean,firstStep:Boolean,saveLabel:{type:String,default:"Guardar"},saveType:{type:String,default:"is-success"},cancel:{type:Boolean,default:!0}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(o.b)(["buttonLoading"])),methods:{save:function(){this.$emit("save")},previous:function(){this.$emit("previous")},next:function(){this.$emit("next")}}},d=c,f=n(89),component=Object(f.a)(d,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column buttons"},[e.saving?t("b-field",{attrs:{position:"is-right"}},[t("b-button",{attrs:{type:"is-danger","native-type":"submit",outlined:""},on:{click:function(t){return e.$emit("cancel")}}},[e._v("\n        Cancelar\n      ")]),e._v(" "),t("b-button",{attrs:{type:e.saveType,"native-type":"submit",outlined:"",loading:e.buttonLoading},on:{click:function(t){return t.preventDefault(),e.handleSubmit(e.save)}}},[e._v("\n        "+e._s(e.saveLabel)+"\n      ")])],1):t("b-field",{attrs:{position:"is-right"}},[t("b-button",{attrs:{disabled:e.firstStep,type:"is-dark","native-type":"submit",outlined:""},on:{click:e.previous}},[e._v("\n        Anterior\n      ")]),e._v(" "),t("b-button",{attrs:{type:"is-info","native-type":"submit",outlined:""},on:{click:function(t){return e.handleSubmit(e.next)}}},[e._v("\n        Siguiente\n      ")])],1)],1)])}),[],!1,null,null,null);t.default=component.exports},775:function(e,t,n){"use strict";n.r(t);n(128),n(58),n(187);var r=n(5),o=(n(136),n(101),n(167),n(38),n(60),n(59),n(207),n(237),n(238),n(388),n(117),n(129),n(497),n(389),n(35),n(684)),l=(n(685),n(683)),c={name:"NewBinnacle",props:{plannification:{type:String,default:null},activeModal:{type:Boolean,default:!1},isExtraordinary:{type:Boolean,default:!1}},data:function(){return{form:{date:new Date,status:"por-revisar",isprocessed:"No"},isLoading:!1,hourInit:new Date,hourEnd:new Date,isSwitched:!0,validateHours:!1,formCoord:{},temporalPoint:[224190.791,2311022.379],ViewPoint:[-89.60984537598705,20.85610769792424],viewActive:!1,pointsMap:[[-89.60984537598705,20.85610769792424]],points:[],idPoints:[],zoom:12,center:[-89.60984537598705,20.85610769792424],rotation:0,vehicles:[],vehiclesFilter:[],vegetation:[],vegetationFilter:[],legalZones:[],legalZonesFilter:[],subZones:[],subZonesFilter:[],opZones:[],opZonesFilter:[],participants:[],participantsFilter:[],files:[],vegetableAffected:[],temporalFiles:[],features:[{type:"Feature",geometry:{type:"Polygon",coordinates:o}}],estados:[{label:"Revisado",value:"revisado"},{label:"En revisión",value:"en-revision"},{label:"Por revisar",value:"por-revisar"}]}},watch:{isActive:function(e,t){e&&!this.isExtraordinary?this.form.idplanification=this.plannification:this.isExtraordinary&&(this.form.isextraordinary=!0)}},mounted:function(){this.hourEnd.setHours(this.hourEnd.getHours()+1),this.center=this.point?this.point:[0,0],this.plannification&&(this.form.idplanification=this.plannification),this.getUser(),this.getVehicles(),this.getParticipants(),this.getVegetation(),this.getSubZones(),this.getOpZones()},methods:{close:function(){this.form={date:new Date,status:"por-revisar",isprocessed:"No",idplanification:this.plannification?this.plannification:null},this.viewActive=!1,this.files=[],this.vegetableAffected=[],this.temporalPoint=[224190.791,2311022.379],this.ViewPoint=[-89.60984537598705,20.85610769792424],this.pointsMap=[[-89.60984537598705,20.85610769792424]],this.points=[],this.idPoints=[],this.vehiclesFilter=this.vehicles,this.vegetationFilter=this.vegetation,this.legalZonesFilter=this.legalZones,this.subZonesFilter=this.subZones,this.opZonesFilter=this.opZones,this.participantsFilter=this.participants,this.temporalFiles=[],this.$emit("close")},getUser:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("modules/users/getData");case 3:n=t.sent,e.form.iduser=n.idusers,t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},createOrUpdate:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o,l,c,d,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,e.form.hour_init=e.hourInit,e.form.hour_end=e.hourEnd,e.form.isprocessed="Si"===e.form.isprocessed?1:0,t.prev=4,t.next=7,e.$store.dispatch("modules/binnacles/createOrUpdateBinnacle",e.form);case 7:if(n=t.sent,!(e.points.length>0)){t.next=19;break}return t.next=11,e.getBinnacle(n);case 11:return r=t.sent,console.log(r),e.points.map((function(e){var t=e;return t.idbinnacle=n,t})),t.next=16,e.createPoints(e.points,n);case 16:return r.list_coordinates=e.idPoints,t.next=19,e.updateBinnacle(r);case 19:if(!(e.files.length>0)){t.next=42;break}return t.next=22,e.getBinnacle(n);case 22:return o=t.sent,l=new FormData,c=o.number.replace("/","-"),e.files.map((function(e,t){if("image/png"===e.type){var n=new File([e],"evidencia_"+(t+1)+"_bitacora_"+c+".png",{type:"image/png"});l.append("binnacle_photo[]",n),console.log(n)}else if("image/jpeg"===e.type){var r=new File([e],"evidencia_"+(t+1)+"_bitacora_"+c+".jpg",{type:"image/jpeg"});l.append("binnacle_photo[]",r),console.log(r)}})),e.files.forEach((function(t,r){e.temporalFiles.push({description:"evidencia_"+(r+1)+"_"+c,idbinnacle:n,position:r+1})})),o.list_image=e.temporalFiles,t.next=30,e.updateBinnacle(o);case 30:return d=t.sent,e.temporalFiles.forEach((function(e,t){l.append("idimages["+t+"]",d[t])})),t.next=34,e.uploadEvidences(l);case 34:if(!(e.vegetableAffected.length>0)){t.next=42;break}return t.next=37,e.getBinnacle(n);case 37:return f=t.sent,console.log(f),f.list_vegetable_affected=e.vegetableAffected.map((function(e){return e.idbinnacle=n,e})),t.next=42,e.updateBinnacle(f);case 42:e.form={date:new Date,status:"por-revisar",isprocessed:!1,idplanification:e.plannification?e.plannification:null},e.viewActive=!1,e.files=[],e.vegetableAffected=[],e.temporalPoint=[224190.791,2311022.379],e.ViewPoint=[-89.60984537598705,20.85610769792424],e.pointsMap=[[-89.60984537598705,20.85610769792424]],e.points=[],e.idPoints=[],e.vehiclesFilter=e.vehicles,e.vegetationFilter=e.vegetation,e.legalZonesFilter=e.legalZones,e.subZonesFilter=e.subZones,e.opZones=e.opZonesFilter,e.participantsFilter=e.participants,e.temporalFiles=[],e.$buefy.toast.open({message:"¡Bitácora guardada!",type:"is-success"}),e.buttonDisabled=!1,e.isLoading=!1,e.$emit("save"),t.next=67;break;case 64:t.prev=64,t.t0=t.catch(4),e.isLoading=!1;case 67:return t.prev=67,e.buttonDisabled=!1,e.isLoading=!1,t.finish(67);case 71:case"end":return t.stop()}}),t,null,[[4,64,67,71]])})))()},getBinnacle:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$store.dispatch("modules/binnacles/getBinnacle",e);case 3:return r=n.sent,n.abrupt("return",r);case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})))()},updateBinnacle:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$store.dispatch("modules/binnacles/createOrUpdateBinnacle",e);case 3:return r=n.sent,n.abrupt("return",r);case 7:n.prev=7,n.t0=n.catch(0),t.$buefy.toast.open({message:"Ocurrió un error, intente nuevamente",type:"is-danger"});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},getVehicles:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("modules/vehicles/getVehicles");case 3:n=t.sent,e.vehicles=n,e.vehiclesFilter=n,t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))()},filterVehicles:function(text){this.vehiclesFilter=this.vehicles.filter((function(option){if(option.number&&option.number.toString().toLowerCase().includes(text.toLowerCase()))return option}))},getParticipants:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("modules/participants/getParticipants");case 3:n=t.sent,e.participants=n,e.participantsFilter=n,t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))()},selectParticipant:function(option){this.form.idparticipants=option?option.idparticipants:null},removeParticipant:function(e){this.form.participants.splice(e,1)},filterParticipant:function(text){this.participantsFilter=this.participants.filter((function(option){if(option.name&&option.name.toString().toLowerCase().includes(text.toLowerCase()))return option}))},getOpZones:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("modules/operativeZones/getZones");case 3:n=t.sent,e.opZonesFilter=n,e.opZones=n,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},filterOpZone:function(text){this.opZonesFilter=this.opZones.filter((function(option){if(option.description&&option.description.toString().toLowerCase().includes(text.toLowerCase()))return option}))},getSubZones:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("modules/zones/getSubZones");case 3:n=t.sent,e.subZones=n,e.subZonesFilter=n,t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))()},filterSubZones:function(text){this.subZonesFilter=this.subZones.filter((function(option){if(option.description&&option.description.toString().toLowerCase().includes(text.toLowerCase()))return option}))},getVegetation:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("modules/vegetation/getVegetations");case 3:n=t.sent,e.vegetation=n,e.vegetationFilter=n,t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))()},filterVegetation:function(text){this.vegetationFilter=this.vegetation.filter((function(option){if(option.description&&option.description.toString().toLowerCase().includes(text.toLowerCase()))return option}))},viewIamge:function(image){this.imageUrl=URL.createObjectURL(image)},deleteDropFile:function(e){this.files.splice(e,1)},uploadEvidences:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$store.dispatch("modules/binnacles/uploadEvidences",e);case 3:r=n.sent,t.idEvidences=r,n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),t.$buefy.toast.open({message:"Ocurrió un error, intente nuevamente",type:"is-danger"});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},addPoint:function(){if(this.viewActive=!1,this.formCoord.name&&""!==this.formCoord.name){if(0===this.points.length){var e=this.convertCoordinatesToUtm([this.temporalPoint[0],this.temporalPoint[1]]);this.pointsMap=[e]}else{var t=this.convertCoordinatesToUtm([this.temporalPoint[0],this.temporalPoint[1]]);this.pointsMap.push(t)}this.formCoord.x=this.temporalPoint[0],this.formCoord.y=this.temporalPoint[1],this.points.push(this.formCoord),this.formCoord={name:"",x:0,y:0},this.temporalPoint=[224190.791,2311022.379]}else this.$buefy.toast.open({duration:4e3,message:"Es necesario asignar un nombre a las coordenadas",position:"is-bottom",type:"is-danger"})},deletePoint:function(e){1===this.pointsMap.length?(this.points=[],this.pointsMap=[[-89.60984537598705,20.85610769792424]]):(this.points.splice(e,1),this.pointsMap.splice(e,1))},createPoints:function(e,t){var n=this,o=e;try{o.forEach(function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.$store.dispatch("modules/coordinates/createOrUpdateCoordinate",r);case 2:o=e.sent,n.idPoints.push({idcoordinates:o,idbinnacle:t});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(e){this.$buefy.toast.open({message:"No se pudieron agregar las coordenadas, intente nuevamente",type:"is-danger"})}},convertCoordinatesToUtm:function(e){var t=l.toLatLon(e[0],e[1],"16","T");return[t.longitude,t.latitude]},convertCoordinatesFromUtm:function(e){},viewPoint:function(){this.ViewPoint=this.convertCoordinatesToUtm(this.temporalPoint),this.viewActive=!0}}},d=c,f=n(89),component=Object(f.a)(d,(function(){var e=this,t=e._self._c;return t("b-modal",{attrs:{"has-modal-card":"","can-cancel":!1,"full-screen":""},model:{value:e.activeModal,callback:function(t){e.activeModal=t},expression:"activeModal"}},[t("b-loading",{attrs:{"is-full-page":!1,"can-cancel":!1},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}}),e._v(" "),t("div",{staticClass:"modal-card"},[t("header",{staticClass:"modal-card-head"},[t("p",{staticClass:"modal-card-title"},[e._v("\n        "+e._s(e.isExtraordinary?"Nueva bitácora extraordinaria":"Nueva bitácora")+"\n      ")])]),e._v(" "),t("section",{staticClass:"modal-card-body"},[t("ValidationObserver",{ref:"form",scopedSlots:e._u([{key:"default",fn:function(n){var r=n.handleSubmit;return[t("form",{on:{submit:function(e){return e.preventDefault(),r.apply(null,arguments)}}},[t("div",{staticClass:"divider"},[t("strong",[e._v("Estado de la bítacora")])]),e._v(" "),t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("b-field",{attrs:{label:"Estado de la bitácora"}},[t("b-select",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.estados,(function(option){return t("option",{key:option.value,domProps:{value:option.value}},[e._v("\n                    "+e._s(option.label)+"\n                  ")])})),0)],1)],1),e._v(" "),t("div",{staticClass:"column"},[t("b-field",{attrs:{label:"¿Fue procesado?"}},[t("b-checkbox",{attrs:{"true-value":"Si","false-value":"No"},model:{value:e.form.isprocessed,callback:function(t){e.$set(e.form,"isprocessed",t)},expression:"form.isprocessed"}},[e._v("\n                  "+e._s(e.form.isprocessed)+"\n                ")])],1)],1)]),e._v(" "),t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("BInputWithValidation",{attrs:{label:"Relatoría",name:"relatoría","label-position":"on-border",rules:"required",type:"textarea",normal:""},model:{value:e.form.rapporteur,callback:function(t){e.$set(e.form,"rapporteur",t)},expression:"form.rapporteur"}})],1)]),e._v(" "),t("div",{staticClass:"divider"},[t("strong",[e._v("Datos generales")])]),e._v(" "),t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-4"},[t("b-field",{attrs:{label:"Fecha"}},[t("b-datepicker",{attrs:{inline:""},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1)],1),e._v(" "),t("div",{staticClass:"column is-3 is-flex is-flex-direction-column is-justify-content-center has-text-centered"},[t("b-notification",{attrs:{"aria-close-label":"Close notification"},model:{value:e.validateHours,callback:function(t){e.validateHours=t},expression:"validateHours"}},[e._v("\n                Es necesario que ingreses una hora de inicio y una hora de\n                fin.\n              ")]),e._v(" "),t("div",[t("b-field",{attrs:{label:"Hora de inicio"}},[t("b-timepicker",{attrs:{inline:""},model:{value:e.hourInit,callback:function(t){e.hourInit=t},expression:"hourInit"}})],1)],1),e._v(" "),t("br"),e._v(" "),t("div",[t("b-field",{attrs:{label:"Hora de finalización"}},[t("b-timepicker",{attrs:{inline:""},model:{value:e.hourEnd,callback:function(t){e.hourEnd=t},expression:"hourEnd"}})],1)],1)],1),e._v(" "),t("div",{staticClass:"column"},[t("div",{staticClass:"divider"},[t("strong",[e._v("Personal y vehiculos")])]),e._v(" "),t("br"),e._v(" "),t("b-field",{attrs:{label:"Responsable"}},[t("b-autocomplete",{attrs:{data:e.participantsFilter,icon:"magnify",clearable:"",field:"name","open-on-focus":""},on:{typing:e.filterParticipant,select:e.selectParticipant},scopedSlots:e._u([{key:"empty",fn:function(){return[e._v("\n                    No hay resultados\n                  ")]},proxy:!0}],null,!0)})],1),e._v(" "),t("b-field",{attrs:{label:"Vehículos utilizados"}},[t("b-taginput",{attrs:{data:e.vehiclesFilter,field:"number",autocomplete:"","open-on-focus":!0},on:{typing:e.filterVehicles},scopedSlots:e._u([{key:"default",fn:function(n){return[t("strong",[e._v(e._s(n.option.number)+" -\n                      "+e._s(n.option.plates?n.option.plates:"sin placas reigstradas"))])]}},{key:"empty",fn:function(){return[e._v("\n                    Sin resultados\n                  ")]},proxy:!0}],null,!0),model:{value:e.form.list_vehicle,callback:function(t){e.$set(e.form,"list_vehicle",t)},expression:"form.list_vehicle"}})],1),e._v(" "),t("b-field",{attrs:{label:"Participantes"}},[t("b-taginput",{attrs:{data:e.participantsFilter,field:"name",autocomplete:"","open-on-focus":!0},on:{typing:e.filterParticipant},scopedSlots:e._u([{key:"default",fn:function(n){return[t("strong",[e._v(e._s(n.option.name)+"\n                      "+e._s(n.option.lastname))])]}},{key:"empty",fn:function(){return[e._v("\n                    Sin resultados\n                  ")]},proxy:!0},{key:"selected",fn:function(){return e._l(e.form.participants,(function(n,r){return t("b-tag",{key:r,attrs:{closable:""},on:{close:function(t){return e.removeParticipant(r)}}},[e._v("\n                      "+e._s(n.name)+" "+e._s(n.lastname)+"\n                    ")])}))},proxy:!0}],null,!0),model:{value:e.form.participants,callback:function(t){e.$set(e.form,"participants",t)},expression:"form.participants"}})],1)],1)]),e._v(" "),t("div",{staticClass:"divider"},[t("strong",[e._v("Vegetación y zonas")])]),e._v(" "),t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("b-field",{attrs:{label:"Vegetación"}},[t("b-taginput",{attrs:{data:e.vegetationFilter,field:"description",autocomplete:"","open-on-focus":!0},on:{typing:e.filterVegetation},scopedSlots:e._u([{key:"default",fn:function(n){return[t("strong",[e._v(e._s(n.option.description))])]}},{key:"empty",fn:function(){return[e._v("\n                    Sin resultados\n                  ")]},proxy:!0}],null,!0),model:{value:e.vegetableAffected,callback:function(t){e.vegetableAffected=t},expression:"vegetableAffected"}})],1)],1),e._v(" "),t("div",{staticClass:"column"},[t("b-field",{attrs:{label:"Zonas operativas"}},[t("b-taginput",{attrs:{data:e.opZonesFilter,field:"description",autocomplete:"","open-on-focus":!0},on:{typing:e.filterOpZone},scopedSlots:e._u([{key:"empty",fn:function(){return[e._v("\n                    Sin resultados\n                  ")]},proxy:!0}],null,!0),model:{value:e.form.list_operative_zones,callback:function(t){e.$set(e.form,"list_operative_zones",t)},expression:"form.list_operative_zones"}})],1)],1),e._v(" "),t("div",{staticClass:"column"},[t("b-field",{attrs:{label:"Subzonificación PM"}},[t("b-taginput",{attrs:{data:e.subZonesFilter,field:"description",autocomplete:"","open-on-focus":!0},on:{typing:e.filterSubZones},scopedSlots:e._u([{key:"empty",fn:function(){return[e._v("\n                    Sin resultados\n                  ")]},proxy:!0}],null,!0),model:{value:e.form.list_subzoning,callback:function(t){e.$set(e.form,"list_subzoning",t)},expression:"form.list_subzoning"}})],1)],1)]),e._v(" "),t("div",{staticClass:"divider"},[t("strong",[e._v("Coordenadas")])]),e._v(" "),t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-4"},[t("b-notification",{attrs:{type:"is-info","has-icon":"",closable:!1}},[e._v("\n                Ingrese las coordenadas en formato UTM.\n              ")]),e._v(" "),t("div",{staticClass:"container"},[t("b-field",{attrs:{label:"Descripción breve de la coordenada"}},[t("b-input",{model:{value:e.formCoord.name,callback:function(t){e.$set(e.formCoord,"name",t)},expression:"formCoord.name"}})],1),e._v(" "),t("b-field",{attrs:{label:e.isSwitched?"Longitud":"Coordenada X"}},[t("b-numberinput",{attrs:{step:"0.000000000000000001",controls:!1},model:{value:e.temporalPoint[0],callback:function(t){e.$set(e.temporalPoint,0,t)},expression:"temporalPoint[0]"}})],1),e._v(" "),t("b-field",{attrs:{label:e.isSwitched?"Latitud":"Coordenada Y"}},[t("b-numberinput",{attrs:{step:"0.000000000000000001",controls:!1},model:{value:e.temporalPoint[1],callback:function(t){e.$set(e.temporalPoint,1,t)},expression:"temporalPoint[1]"}})],1)],1),e._v(" "),t("div",{staticClass:"container m-3 has-text-centered"},[t("b-button",{attrs:{type:"is-success is-light"},on:{click:e.addPoint}},[e._v("\n                  Agregar coordenada\n                ")]),e._v(" "),t("b-button",{attrs:{type:"is-info is-light"},on:{click:e.viewPoint}},[e._v("\n                  Ver punto\n                ")])],1),e._v(" "),e._l(e.points,(function(n){return t("div",{key:n.name,staticClass:"container m-3"},[t("div",{staticClass:"control"},[t("b-tag",{attrs:{type:"is-primary",attached:"","aria-close-label":"Close tag",closable:""},on:{close:e.deletePoint,click:function(t){return e.viewPoint(n)}}},[e._v("\n                    "+e._s(n.name)+"\n                  ")])],1)])}))],2),e._v(" "),t("div",{staticClass:"column is-8"},[t("vl-map",{staticStyle:{height:"400px"},attrs:{"load-tiles-while-animating":!0,"load-tiles-while-interacting":!0,"data-projection":"EPSG:4326"}},[t("vl-view",{attrs:{zoom:e.zoom,center:e.ViewPoint,rotation:e.rotation},on:{"update:zoom":function(t){e.zoom=t},"update:center":function(t){e.ViewPoint=t},"update:rotation":function(t){e.rotation=t}}}),e._v(" "),t("vl-layer-tile",[t("vl-source-osm")],1),e._v(" "),e.viewActive?t("vl-feature",[t("vl-geom-point",{attrs:{coordinates:e.ViewPoint}}),e._v(" "),t("vl-style",[t("vl-style-circle",{attrs:{radius:5}},[t("vl-style-fill",{attrs:{color:"green"}}),e._v(" "),t("vl-style-stroke",{attrs:{color:"green"}})],1)],1)],1):e._e(),e._v(" "),t("vl-feature",[t("vl-geom-multi-point",{attrs:{coordinates:e.pointsMap}}),e._v(" "),t("vl-style",[t("vl-style-circle",{attrs:{radius:5}},[t("vl-style-fill",{attrs:{color:"red"}}),e._v(" "),t("vl-style-stroke",{attrs:{color:"red"}})],1)],1)],1),e._v(" "),t("vl-layer-vector",[t("vl-source-vector",{attrs:{features:e.features},on:{"update:features":function(t){e.features=t}}})],1)],1)],1)]),e._v(" "),t("div",{staticClass:"divider"},[t("strong",[e._v("Evidencias")])]),e._v(" "),t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-6"},[t("section",[t("b-field",[t("b-upload",{attrs:{multiple:"","drag-drop":""},model:{value:e.files,callback:function(t){e.files=t},expression:"files"}},[t("section",{staticClass:"section"},[t("div",{staticClass:"content has-text-centered"},[t("p",[t("b-icon",{attrs:{icon:"upload",size:"is-large"}})],1),e._v(" "),t("p",[e._v("\n                          Arrastra aquí tus imágenes o has click aquí para\n                          subirlas.\n                        ")])])])])],1),e._v(" "),e._l(e.files,(function(n,r){return t("div",{key:n,staticClass:"tags"},[t("b-tag",{attrs:{type:"is-primary",attached:"","aria-close-label":"Borrar elemento",closable:""},on:{close:function(t){return e.deleteDropFile(r)},click:function(t){return e.viewIamge(n)}}},[e._v("\n                    "+e._s(r+1)+" - "+e._s(n.name)+"\n                  ")])],1)}))],2)])]),e._v(" "),t("ButtonGroup",{attrs:{"handle-submit":r,saving:""},on:{save:e.createOrUpdate,cancel:e.close}})],1)]}}])})],1)])],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{BInputWithValidation:n(682).default,ButtonGroup:n(688).default})}}]);