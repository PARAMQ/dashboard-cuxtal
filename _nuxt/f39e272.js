(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{827:function(e,t){},828:function(e,t){},837:function(e,t){},838:function(e,t){},858:function(e,t){},860:function(e,t){},861:function(e,t){},864:function(e,t){},865:function(e,t){},870:function(e,t){},871:function(e,t){},879:function(e,t){},885:function(e,t){},888:function(e,t){},927:function(e,t,n){"use strict";n.r(t);n(128),n(58),n(188);var r=n(5),o=(n(34),n(823)),c={name:"NewUser",props:{activeModal:{default:!1,type:Boolean}},data:function(){return{isLoading:!1,form:{},departaments:[],charges:[]}},mounted:function(){this.getDepartaments(),this.getCharges()},methods:{getDepartaments:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("modules/deptos/getDeptos");case 3:e.departaments=t.sent,t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))()},getCharges:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("modules/charges/getCharges");case 3:e.charges=t.sent,t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))()},createUser:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.generate({length:10,numbers:!0}),t.prev=1,e.form.password=n,e.isLoading=!0,t.next=6,e.$store.dispatch("modules/users/createUser",e.form);case 6:e.form={},e.isLoading=!1,e.$buefy.toast.open({message:"Usuario guardado!",type:"is-success"}),e.$emit("create"),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),e.isLoading=!1,e.$buefy.toast.open({message:"Ocurrió un error, intente nuevamente",type:"is-danger"});case 16:return t.prev=16,e.isLoading=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[1,12,16,19]])})))()}}},l=n(89),component=Object(l.a)(c,(function(){var e=this,t=e._self._c;return t("b-modal",{attrs:{"destroy-on-hide":!1},model:{value:e.activeModal,callback:function(t){e.activeModal=t},expression:"activeModal"}},[t("b-loading",{attrs:{"is-full-page":!0,"can-cancel":!1},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}}),e._v(" "),t("div",{staticClass:"card"},[t("div",{staticClass:"card-header"},[t("p",{staticClass:"card-header-title"},[e._v("\n        Nuevo usuario\n      ")])]),e._v(" "),t("div",{staticClass:"card-content"},[t("div",{staticClass:"content"},[t("form",{on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("b-field",{attrs:{label:"Nombre de usuario"}},[t("b-input",{attrs:{name:"usuario",type:"text",required:""},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),t("b-field",{attrs:{label:"Nombre(s)"}},[t("b-input",{attrs:{name:"nombres(s)",type:"text",required:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),t("b-field",{attrs:{label:"Apellido(s)"}},[t("b-input",{attrs:{name:"apellido(s)",type:"text",required:""},model:{value:e.form.lastname,callback:function(t){e.$set(e.form,"lastname",t)},expression:"form.lastname"}})],1),e._v(" "),t("b-field",{attrs:{label:"Correo electrónico"}},[t("b-input",{attrs:{name:"correo electronico",type:"text",required:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),t("b-field",{attrs:{label:"Cargo (rol dentro de cuxtal)"}},[t("b-select",{attrs:{placeholder:"Selecciona uno"}},e._l(e.charges,(function(option){return t("option",{key:option.idcharge,domProps:{value:option.idcharge}},[e._v("\n                "+e._s(option.description)+"\n              ")])})),0)],1),e._v(" "),t("b-field",{attrs:{label:"Coordinaciones"}},[t("b-select",{attrs:{placeholder:"Selecciona una"}},e._l(e.departaments,(function(option){return t("option",{key:option.iddepto,domProps:{value:option.iddepto}},[e._v("\n                "+e._s(option.description)+"\n              ")])})),0)],1)],1)]),e._v(" "),t("div",{staticClass:"card-footer"},[t("div",{staticClass:"card-footer-item"},[t("b-button",{on:{click:function(t){return e.$emit("close")}}},[e._v("\n            Cancelar\n          ")])],1),e._v(" "),t("div",{staticClass:"card-footer-item"},[t("b-button",{attrs:{type:"is-success"},on:{click:e.createUser}},[e._v("\n            Guardar\n          ")])],1)])])])],1)}),[],!1,null,null,null);t.default=component.exports}}]);