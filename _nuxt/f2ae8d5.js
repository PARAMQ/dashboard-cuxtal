(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{1259:function(t,e,n){"use strict";n.r(e);var r=n(5),o=(n(35),{props:{action:{type:String,default:"modules/clients/getClientList"},current:{type:Object}},data:function(){return{id:null,isLoading:!1,isModalEdit:!1,form:{},createdReadable:null,isEdit:!1,list:[],selected:{person:{}},isModalActive:!1,trashObject:null,trashObjectName:"",activeClient:{person:{},family:[{}]}}},watch:{current:function(t){t&&(this.selected=t,this.activeClient=JSON.parse(JSON.stringify(t)),this.list.push(t))}},created:function(){this.getData()},mounted:function(){this.selected=this.current,this.activeClient=JSON.parse(JSON.stringify(this.current))},methods:{getData:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={limit:50,offset:0},e.next=3,t.$store.dispatch(t.action,n);case 3:r=e.sent,t.list=r.results;case 5:case"end":return e.stop()}}),e)})))()},handleSelected:function(option){option&&this.selected!==option&&this.$emit("selected",option),this.selected=option||{}}}}),c=n(89),component=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("b-field",t._b({},"b-field",t.$attrs,!1),[e("b-autocomplete",{attrs:{data:t.list,"open-on-focus":"",placeholder:"ej. Juan Perez",value:t.selected.person&&t.selected.person.first_name?t.selected.person.first_name+" "+t.selected.person.last_name:""},on:{select:t.handleSelected},scopedSlots:t._u([{key:"default",fn:function(n){return[e("div",{staticClass:"media"},[e("div",{staticClass:"media-left"},[e("figure",{staticClass:"image is-32x32"},[n.option.person&&n.option.person.first_name?e("img",{staticClass:"is-rounded",attrs:{width:"32",src:"https://avatars.dicebear.com/api/initials/".concat(n.option.person.first_name,".svg?b=%23ffc845")}}):t._e()])]),t._v(" "),n.option.person&&n.option.person.first_name?e("div",{staticClass:"media-content"},[e("b",[t._v(t._s(n.option.person.first_name)+"\n            "+t._s(n.option.person.last_name))]),t._v(" "),e("br"),t._v(" "),e("small",[t._v("\n            "+t._s(n.option.email||n.option.number)+"\n          ")])]):t._e()])]}}])}),t._v(" "),e("div",{staticClass:"control"},[t.selected.person&&t.selected.person.first_name?e("b-button",{attrs:{type:"is-primary","icon-left":"account-edit"},on:{click:function(e){return t.$emit("edit",t.selected)}}}):t._e(),t._v(" "),t.$store.state.user.is_staff?t._e():e("a",{staticClass:"button is-info is-outlined",attrs:{slot:"right"},on:{click:function(e){return t.$emit("create")}},slot:"right"},[e("b-icon",{attrs:{icon:"account-plus",size:"is-small"}})],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);