(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1203:function(e,t,n){"use strict";n.r(t);n(58),n(188),n(128);var o=n(5),r=(n(34),n(136),n(38),n(117),n(129),n(497),n(389),n(59),n(207),n(237),n(238),n(388),n(60),n(685)),c=(n(686),n(684)),l={name:"EditOpinion",props:{activeModal:{default:!1,type:Boolean},objectTech:{type:Object,default:{}}},data:function(){return{isLoading:!1,form:{},formEdit:{},tenenciaPredio:[],dependences:[],fileOficio:{},fileRespuesta:{},vegetation:[],filterVegetable:[],legalEntity:[],typeLegalEntity:[],appMethod:[],appType:[],requestMotive:[],motiveDescription:[],responseOp:[],tenure:[],isSwitched:!0,formCoord:{},temporalPoint:[224190.791,2311022.379],ViewPoint:[-89.60984537598705,20.85610769792424],pointsMap:[[-89.60984537598705,20.85610769792424]],viewCoords:!1,viewTemporalPoint:!1,newPoints:[],actualVa:[],actualCoords:[],points:[],idPoints:[],zoom:12,center:[-89.60984537598705,20.85610769792424],rotation:0,features:[{type:"Feature",geometry:{type:"Polygon",coordinates:r}}]}},watch:{activeModal:function(e,t){e&&this.getTechOp(this.objectTech)}},mounted:function(){this.getVegetation(),this.getDependences(),this.getLegalEntity(),this.getTypeLegalEntity(),this.getAppMethod(),this.getAppType(),this.getRequestMotive(),this.getMotiveDescription(),this.getTenure(),this.getResponseOp()},methods:{close:function(){this.form={},this.pointsMap=!1,this.viewCoords=!1,this.$emit("close")},getTechOp:function(object){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("modules/technicalOp/getInfoTechnicalOp",object.idtechnical_opinion);case 3:(n=t.sent).application_date=n.application_date?new Date(n.application_date):null,n.response_date=n.response_date?new Date(n.response_date):null,n.reception_date=n.reception_date?new Date(n.reception_date):null,n.list_coordinates&&(e.viewCoords=!1,e.actualCoords=n.list_coordinates,o=n.list_coordinates.map((function(t){var n=[t.x,t.y];return e.convertCoordinatesToUtm(n)})),e.pointsMap=o,e.viewCoords=!0),n.list_va&&(e.actualVa=n.list_va),e.form=n,t.next=14;break;case 12:t.prev=12,t.t0=t.catch(0);case 14:case"end":return t.stop()}}),t,null,[[0,12]])})))()},createOrUpdate:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,e.formEdit.idtechnical_opinion=e.form.idtechnical_opinion,t.next=5,e.$store.dispatch("modules/technicalOp/createOrUpdateTechnicalOp",e.formEdit);case 5:if(n=t.sent,!(e.newPoints&&e.newPoints.length>0)){t.next=12;break}return e.form.idtechnical_opinion=n,o=e.newPoints.map((function(e){return e.idtech_op_coordinates=n,e})),e.form.list_coordinates=o,t.next=12,e.$store.dispatch("modules/technicalOp/createOrUpdateTechnicalOp",e.form);case 12:if(!e.fileOficio.name&&!e.fileRespuesta.name){t.next=15;break}return t.next=15,e.uploadFiles(n);case 15:e.form={},e.points=[],e.fileOficio={},e.fileRespuesta={},e.isLoading=!1,e.$buefy.toast.open({message:"Guardado!",type:"is-success"}),e.$emit("save"),t.next=28;break;case 24:t.prev=24,t.t0=t.catch(0),e.isLoading=!1,e.$buefy.toast.open({message:"Ocurri√≥ un error, intente nuevamente",type:"is-danger"});case 28:return t.prev=28,e.isLoading=!1,t.finish(28);case 31:case"end":return t.stop()}}),t,null,[[0,24,28,31]])})))()},uploadFiles:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(o=new FormData).append("idtechnical_opinion",e),t.fileOficio.name&&o.append("request_doc",t.fileOficio),t.fileRespuesta.name&&o.append("response_doc",t.fileRespuesta),n.prev=4,n.next=7,t.$store.dispatch("modules/technicalOp/uploadFiles",o);case 7:n.next=11;break;case 9:n.prev=9,n.t0=n.catch(4);case 11:case"end":return n.stop()}}),n,null,[[4,9]])})))()},downloadFile:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function n(){var o,r,c,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch(e);case 3:return o=n.sent,n.next=6,o.blob();case 6:r=n.sent,c=window.URL.createObjectURL(r),(a=document.createElement("a")).href=c,a.download=t,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(c),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(0),console.error("Error al descargar el archivo:",n.t0);case 19:case"end":return n.stop()}}),n,null,[[0,16]])})))()},getVegetation:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("modules/vegetation/getVegetations");case 3:e.vegetation=t.sent,e.filterVegetable=e.vegetation,t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},getDependences:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("modules/coordinations/getCoordinations");case 3:e.dependences=t.sent,t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))()},filterVegetableFun:function(text){this.filterVegetable=this.vegetation.filter((function(option){if(option.description&&option.description.toString().toLowerCase().includes(text.toLowerCase()))return option}))},getLegalEntity:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("modules/legalEntity/getLegalEntitys");case 3:e.legalEntity=t.sent,t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))()},getTypeLegalEntity:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("modules/legalEntity/getTypeLegalEntitys");case 3:e.typeLegalEntity=t.sent,t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))()},getAppMethod:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("modules/apMethod/getApplicationMethods");case 3:e.appMethod=t.sent,t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))()},getAppType:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("modules/apType/getApplicantTypes");case 3:e.appType=t.sent,t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))()},getRequestMotive:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("modules/requestMotive/getRequestMotives");case 3:e.requestMotive=t.sent,t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))()},getMotiveDescription:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("modules/motiveDescription/getMotiveDescriptions");case 3:e.motiveDescription=t.sent,t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))()},getTenure:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("modules/tenure/getTenures");case 3:e.tenure=t.sent,t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))()},getResponseOp:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("modules/responseOp/getResponseOps");case 3:e.responseOp=t.sent,t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))()},addPoint:function(){if(this.viewTemporalPoint=!1,this.formCoord.description&&""!==this.formCoord.description){if(0===this.points.length){var e=this.convertCoordinatesToUtm([this.temporalPoint[0],this.temporalPoint[1]]);this.pointsMap=[e]}else{var t=this.convertCoordinatesToUtm([this.temporalPoint[0],this.temporalPoint[1]]);this.pointsMap.push(t)}this.formCoord.x=this.temporalPoint[0],this.formCoord.y=this.temporalPoint[1],this.points.push(this.formCoord),this.formCoord={description:"",x:0,y:0},this.temporalPoint=[224190.791,2311022.379]}else this.$buefy.toast.open({duration:4e3,message:"Es necesario asignar un nombre a las coordenadas",position:"is-bottom",type:"is-danger"})},deletePoint:function(e){1===this.pointsMap.length?(this.points=[],this.pointsMap=[[-89.60984537598705,20.85610769792424]]):(this.points.splice(e,1),this.pointsMap.splice(e,1))},createPoints:function(e,t){var n=this,r=e;try{r.forEach(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(o){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.$store.dispatch("modules/coordinates/createOrUpdateCoordinate",o);case 2:r=e.sent,n.idPoints.push({idcoordinates:r,idbinnacle:t});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(e){this.$buefy.toast.open({message:"No se pudieron agregar las coordenadas, intente nuevamente",type:"is-danger"})}},convertCoordinatesToUtm:function(e){var t=c.toLatLon(e[0],e[1],"16","T");return[t.longitude,t.latitude]},convertCoordinatesFromUtm:function(e){},viewPoint:function(){this.viewTemporalPoint=!1,this.ViewPoint=this.convertCoordinatesToUtm(this.temporalPoint),this.viewTemporalPoint=!0}}},d=l,m=n(89),component=Object(m.a)(d,(function(){var e=this,t=e._self._c;return t("b-modal",{attrs:{"full-screen":!0,"destroy-on-hide":!1,"can-cancel":!1},model:{value:e.activeModal,callback:function(t){e.activeModal=t},expression:"activeModal"}},[t("b-loading",{attrs:{"is-full-page":!0,"can-cancel":!1},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}}),e._v(" "),t("div",{staticClass:"modal-card"},[t("div",{staticClass:"modal-card-head"},[t("p",{staticClass:"modal-card-title"},[e._v("\n        Editar opini√≥n t√©cnica\n      ")])]),e._v(" "),t("div",{staticClass:"modal-card-body"},[t("form",[t("div",{staticClass:"divider"},[t("strong",[e._v("Datos generales del solicitante")])]),e._v(" "),t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-4"},[t("BInputWithValidation",{attrs:{label:"Nombre de la persona f√≠sica",name:"persona f√≠sica",normal:""},model:{value:e.formEdit.individual,callback:function(t){e.$set(e.formEdit,"individual",t)},expression:"formEdit.individual"}}),e._v(" "),t("b-tag",{attrs:{size:"is-small"}},[e._v("Actualmente: "+e._s(e.form.individual?e.form.individual:"Dato no asignado"))])],1),e._v(" "),t("div",{staticClass:"column"},[t("b-field",{attrs:{label:"Nombre de la persona moral"}},[t("b-select",{attrs:{placeholder:"Seleccione una opci√≥n"},model:{value:e.formEdit.idlegal_entity,callback:function(t){e.$set(e.formEdit,"idlegal_entity",t)},expression:"formEdit.idlegal_entity"}},e._l(e.legalEntity,(function(option){return t("option",{key:option.idlegal_entity,domProps:{value:option.idlegal_entity}},[e._v("\n                  "+e._s(option.description)+"\n                ")])})),0)],1),e._v(" "),t("b-tag",{attrs:{size:"is-small"}},[e._v("Actualmente: "+e._s(e.form.legal_entity?e.form.legal_entity:"Dato no asignado"))])],1),e._v(" "),t("div",{staticClass:"column"},[t("b-field",{attrs:{label:"Tipo de persona moral"}},[t("b-select",{attrs:{placeholder:"Seleccione una opci√≥n"},model:{value:e.formEdit.idtype_legal_entity,callback:function(t){e.$set(e.formEdit,"idtype_legal_entity",t)},expression:"formEdit.idtype_legal_entity"}},e._l(e.typeLegalEntity,(function(option){return t("option",{key:option.idtype_legal_entity,domProps:{value:option.idtype_legal_entity}},[e._v("\n                  "+e._s(option.description)+"\n                ")])})),0)],1),e._v(" "),t("b-tag",{attrs:{size:"is-small"}},[e._v("Actualmente: "+e._s(e.form.type_legal_entity?e.form.type_legal_entity:"Dato no asignado"))])],1)]),e._v(" "),t("div",[t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("BInputWithValidation",{attrs:{label:"Nombre del titular/representante de la persona moral",name:"titular/representante de la persona moral",normal:""},model:{value:e.formEdit.holder_name,callback:function(t){e.$set(e.formEdit,"holder_name",t)},expression:"formEdit.holder_name"}}),e._v(" "),t("b-tag",{attrs:{size:"is-small"}},[e._v("Actualmente: "+e._s(e.form.holder_name?e.form.holder_name:"Dato no asignado"))])],1)])]),e._v(" "),t("div",[t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("BInputWithValidation",{attrs:{label:"N√∫mero de oficio",name:"n√∫mero de oficio",normal:""},model:{value:e.formEdit.folium,callback:function(t){e.$set(e.formEdit,"folium",t)},expression:"formEdit.folium"}}),e._v(" "),t("b-tag",{attrs:{size:"is-small"}},[e._v("Actualmente: "+e._s(e.form.folium?e.form.folium:"Dato no asignado"))])],1),e._v(" "),t("div",{staticClass:"column"},[t("b-field",{attrs:{label:"Medio de solicitud"}},[t("b-select",{attrs:{placeholder:"Seleccione una opci√≥n"},model:{value:e.formEdit.idapplication_method,callback:function(t){e.$set(e.formEdit,"idapplication_method",t)},expression:"formEdit.idapplication_method"}},e._l(e.appMethod,(function(option){return t("option",{key:option.idapplication_method,domProps:{value:option.idapplication_method}},[e._v("\n                    "+e._s(option.description)+"\n                  ")])})),0)],1),e._v(" "),t("b-tag",{attrs:{size:"is-small"}},[e._v("Actualmente: "+e._s(e.form.application_method?e.form.application_method:"Dato no asignado"))])],1),e._v(" "),t("div",{staticClass:"column"},[t("b-field",{attrs:{label:"Fecha de solicitud"}},[t("b-datepicker",{attrs:{placeholder:"Selecciona una fecha",icon:"calendar-today"},model:{value:e.formEdit.application_date,callback:function(t){e.$set(e.formEdit,"application_date",t)},expression:"formEdit.application_date"}})],1)],1),e._v(" "),t("div",{staticClass:"column"},[t("b-field",{attrs:{label:"Fecha de recepci√≥n de solicitud"}},[t("b-datepicker",{attrs:{placeholder:"Selecciona una fecha",icon:"calendar-today"},model:{value:e.formEdit.reception_date,callback:function(t){e.$set(e.formEdit,"reception_date",t)},expression:"formEdit.reception_date"}})],1)],1)])]),e._v(" "),t("div",{staticClass:"divider"},[t("strong",[e._v("Informaci√≥n extra")])]),e._v(" "),t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-9"},[t("BInputWithValidation",{attrs:{label:"Nombre del promovente",name:"nombre del promovente",normal:""},model:{value:e.formEdit.applicant_name,callback:function(t){e.$set(e.formEdit,"applicant_name",t)},expression:"formEdit.applicant_name"}}),e._v(" "),t("b-tag",{attrs:{size:"is-small"}},[e._v("Actualmente: "+e._s(e.form.applicant_name?e.form.applicant_name:"Dato no asignado"))])],1),e._v(" "),t("div",{staticClass:"column"},[t("b-field",{attrs:{label:"Tipo de promovente"}},[t("b-select",{attrs:{placeholder:"Seleccione una opci√≥n"},model:{value:e.formEdit.idapplicant_type,callback:function(t){e.$set(e.formEdit,"idapplicant_type",t)},expression:"formEdit.idapplicant_type"}},e._l(e.appType,(function(option){return t("option",{key:option.idapplicant_type,domProps:{value:option.idapplicant_type}},[e._v("\n                  "+e._s(option.description)+"\n                ")])})),0)],1),e._v(" "),t("b-tag",{attrs:{size:"is-small"}},[e._v("Actualmente: "+e._s(e.form.applicant_type?e.form.applicant_type:"Dato no asignado"))])],1)]),e._v(" "),t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("b-field",{attrs:{label:"Motivo de la solicitud"}},[t("b-select",{attrs:{placeholder:"Seleccione una opci√≥n"},model:{value:e.formEdit.idrequest_motive,callback:function(t){e.$set(e.formEdit,"idrequest_motive",t)},expression:"formEdit.idrequest_motive"}},e._l(e.requestMotive,(function(option){return t("option",{key:option.idrequest_motive,domProps:{value:option.idrequest_motive}},[e._v("\n                  "+e._s(option.description)+"\n                ")])})),0)],1),e._v(" "),t("b-tag",{attrs:{size:"is-small"}},[e._v("Actualmente: "+e._s(e.form.request_motive?e.form.request_motive:"Dato no asignado"))])],1),e._v(" "),t("div",{staticClass:"column"},[t("b-field",{attrs:{label:"Descripci√≥n del motivo"}},[t("b-select",{attrs:{placeholder:"Seleccione una opci√≥n"},model:{value:e.formEdit.idmotive_description,callback:function(t){e.$set(e.formEdit,"idmotive_description",t)},expression:"formEdit.idmotive_description"}},e._l(e.motiveDescription,(function(option){return t("option",{key:option.idmotive_description,domProps:{value:option.idmotive_description}},[e._v("\n                  "+e._s(option.description)+"\n                ")])})),0)],1),e._v(" "),t("b-tag",{attrs:{size:"is-small"}},[e._v("Actualmente: "+e._s(e.form.motive_description?e.form.motive_description:"Dato no asignado"))])],1),e._v(" "),t("div",{staticClass:"column"},[t("BInputWithValidation",{attrs:{label:"Superficie solicitada(Ha)",name:"superficie solicitada(Ha)",normal:""},model:{value:e.formEdit.surface_affected,callback:function(t){e.$set(e.formEdit,"surface_affected",t)},expression:"formEdit.surface_affected"}}),e._v(" "),t("b-tag",{attrs:{size:"is-small"}},[e._v("Actualmente: "+e._s(e.form.surface_affected?e.form.surface_affected:"Dato no asignado"))])],1)]),e._v(" "),t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-9"},[t("BInputWithValidation",{attrs:{label:"Direcci√≥n del predio",name:"direcci√≥n del predio",normal:""},model:{value:e.formEdit.address,callback:function(t){e.$set(e.formEdit,"address",t)},expression:"formEdit.address"}}),e._v(" "),t("b-tag",{attrs:{size:"is-small"}},[e._v("Actualmente: "+e._s(e.form.address?e.form.address:"Dato no asignado"))])],1),e._v(" "),t("div",{staticClass:"column"},[t("b-field",{attrs:{label:"Tenencia del predio"}},[t("b-select",{attrs:{placeholder:"Seleccione una opci√≥n"},model:{value:e.formEdit.idtenure,callback:function(t){e.$set(e.formEdit,"idtenure",t)},expression:"formEdit.idtenure"}},e._l(e.tenure,(function(option){return t("option",{key:option.idtenure,domProps:{value:option.idtenure}},[e._v("\n                  "+e._s(option.description)+"\n                ")])})),0)],1),e._v(" "),t("b-tag",{attrs:{size:"is-small"}},[e._v("Actualmente: "+e._s(e.form.tenure?e.form.tenure:"Dato no asignado"))])],1)]),e._v(" "),t("div",{staticClass:"divider"},[t("strong",[e._v("Vegetaci√≥n")])]),e._v(" "),t("div",[t("b-field",{attrs:{label:"Vegetaci√≥n"}},[t("b-taginput",{attrs:{data:e.filterVegetable,field:"description",autocomplete:"","open-on-focus":!0},on:{typing:e.filterVegetableFun},scopedSlots:e._u([{key:"default",fn:function(n){return[t("strong",[e._v(e._s(n.option.description))])]}},{key:"empty",fn:function(){return[e._v("\n                Sin resultados\n              ")]},proxy:!0}]),model:{value:e.formEdit.list_va,callback:function(t){e.$set(e.formEdit,"list_va",t)},expression:"formEdit.list_va"}})],1)],1),e._v(" "),t("div",{staticClass:"divider"},[t("strong",[e._v("Coordenadas")])]),e._v(" "),t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-4"},[t("b-notification",{attrs:{type:"is-info","has-icon":"",closable:!1}},[e._v("\n              Ingrese las coordenadas en formato UTM.\n            ")]),e._v(" "),t("div",{staticClass:"container"},[t("b-field",{attrs:{label:"Descripci√≥n breve de la coordenada"}},[t("b-input",{model:{value:e.formCoord.description,callback:function(t){e.$set(e.formCoord,"description",t)},expression:"formCoord.description"}})],1),e._v(" "),t("b-field",{attrs:{label:e.isSwitched?"Longitud":"Coordenada X"}},[t("b-numberinput",{attrs:{step:"0.000000000000000001",controls:!1},model:{value:e.temporalPoint[0],callback:function(t){e.$set(e.temporalPoint,0,t)},expression:"temporalPoint[0]"}})],1),e._v(" "),t("b-field",{attrs:{label:e.isSwitched?"Latitud":"Coordenada Y"}},[t("b-numberinput",{attrs:{step:"0.000000000000000001",controls:!1},model:{value:e.temporalPoint[1],callback:function(t){e.$set(e.temporalPoint,1,t)},expression:"temporalPoint[1]"}})],1)],1),e._v(" "),t("div",{staticClass:"container m-3 has-text-centered"},[t("b-button",{attrs:{type:"is-success is-light"},on:{click:e.addPoint}},[e._v("\n                Agregar coordenada\n              ")]),e._v(" "),t("b-button",{attrs:{type:"is-info is-light"},on:{click:e.viewPoint}},[e._v("\n                Ver punto\n              ")])],1),e._v(" "),e._l(e.points,(function(n){return t("div",{key:n.description,staticClass:"container m-3"},[t("div",{staticClass:"control"},[t("b-tag",{attrs:{type:"is-primary",attached:"","aria-close-label":"Close tag",closable:""},on:{close:e.deletePoint,click:function(t){return e.viewPoint(n)}}},[e._v("\n                  "+e._s(n.description)+"\n                ")])],1)])})),e._v(" "),t("br"),e._v(" "),t("p",[e._v("Puntos ya registrados")]),e._v(" "),e._l(e.form.list_coordinates,(function(n){return t("div",{key:n.description,staticClass:"container m-3"},[t("div",{staticClass:"control"},[t("b-tag",{attrs:{type:"is-primary",attached:"","aria-close-label":"Close tag",closable:""},on:{close:e.deletePoint,click:function(t){return e.viewPoint(n)}}},[e._v("\n                  "+e._s(n.description)+"\n                ")])],1)])}))],2),e._v(" "),t("div",{staticClass:"column"},[t("vl-map",{staticStyle:{height:"400px"},attrs:{"load-tiles-while-animating":!0,"load-tiles-while-interacting":!0,"data-projection":"EPSG:4326"}},[t("vl-view",{attrs:{zoom:e.zoom,center:e.center,rotation:e.rotation},on:{"update:zoom":function(t){e.zoom=t},"update:center":function(t){e.center=t},"update:rotation":function(t){e.rotation=t}}}),e._v(" "),t("vl-layer-tile",[t("vl-source-osm")],1),e._v(" "),e.viewTemporalPoint?t("vl-feature",[t("vl-geom-point",{attrs:{coordinates:e.ViewPoint}})],1):e._e(),e._v(" "),e.viewCoords?t("vl-feature",[t("vl-geom-multi-point",{attrs:{coordinates:e.pointsMap}})],1):e._e(),e._v(" "),t("vl-layer-vector",[t("vl-source-vector",{attrs:{features:e.features},on:{"update:features":function(t){e.features=t}}})],1)],1)],1)]),e._v(" "),t("div",{staticClass:"divider"},[t("strong",[e._v("Respuesta")])]),e._v(" "),t("div",[t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("b-field",{attrs:{label:"Respuesta"}},[t("b-select",{attrs:{placeholder:"Seleccione una opci√≥n"},model:{value:e.formEdit.idresponse_op,callback:function(t){e.$set(e.formEdit,"idresponse_op",t)},expression:"formEdit.idresponse_op"}},e._l(e.responseOp,(function(option){return t("option",{key:option.idresponse_op,domProps:{value:option.idresponse_op}},[e._v("\n                    "+e._s(option.description)+"\n                  ")])})),0)],1),e._v(" "),t("b-tag",{attrs:{size:"is-small"}},[e._v("Actualmente: "+e._s(e.form.response_op?e.form.response_op:"Dato no asignado"))])],1),e._v(" "),t("div",{staticClass:"column"},[t("b-field",{attrs:{label:"Fecha de respuesta"}},[t("b-datepicker",{attrs:{placeholder:"Selecciona una fecha",icon:"calendar-today"},model:{value:e.formEdit.response_date,callback:function(t){e.$set(e.formEdit,"response_date",t)},expression:"formEdit.response_date"}})],1)],1)]),e._v(" "),t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("BInputWithValidation",{attrs:{label:"Otro",name:"otro",normal:""},model:{value:e.formEdit.other,callback:function(t){e.$set(e.formEdit,"other",t)},expression:"formEdit.other"}})],1),e._v(" "),t("b-tag",{attrs:{size:"is-small"}},[e._v("Actualmente: "+e._s(e.form.other?e.form.other:"Dato no asignado"))])],1)]),e._v(" "),t("div",{staticClass:"divider"},[t("strong",[e._v("Documentos")])]),e._v(" "),t("div",{staticClass:"columns has-text-centered"},[t("div",{staticClass:"column"},[t("b-field",{attrs:{label:"Oficio/escrito de solicitud"}},[t("b-field",{staticClass:"file is-primary",class:{"has-name":!!e.fileOficio}},[t("b-upload",{staticClass:"file-label",attrs:{rounded:""},model:{value:e.fileOficio,callback:function(t){e.fileOficio=t},expression:"fileOficio"}},[t("span",{staticClass:"file-cta"},[t("b-icon",{staticClass:"file-icon",attrs:{icon:"upload"}}),e._v(" "),t("span",{staticClass:"file-label"},[e._v(e._s(e.fileOficio.name||"Subir archivo"))])],1)])],1),e._v(" "),t("br")],1),e._v(" "),e.form.request_doc?t("b-button",{on:{click:function(t){return e.downloadFile(e.form.request_doc,"oficio")}}},[e._v("Descargar archivo existente")]):t("b-tag",[e._v("Sin archivo actualmente")])],1),e._v(" "),t("div",{staticClass:"column"},[t("b-field",{attrs:{label:"Oficio de respuesta"}},[t("b-field",{staticClass:"file is-primary",class:{"has-name":!!e.fileRespuesta}},[t("b-upload",{staticClass:"file-label",attrs:{rounded:""},model:{value:e.fileRespuesta,callback:function(t){e.fileRespuesta=t},expression:"fileRespuesta"}},[t("span",{staticClass:"file-cta"},[t("b-icon",{staticClass:"file-icon",attrs:{icon:"upload"}}),e._v(" "),t("span",{staticClass:"file-label"},[e._v(e._s(e.fileRespuesta.name||"Subir archivo"))])],1)])],1)],1),e._v(" "),e.form.response_doc?t("b-button",{on:{click:function(t){return e.downloadFile(e.form.response_doc,"respuesta")}}},[e._v("Descargar archivo existente")]):t("b-tag",[e._v("Sin archivo actualmente")])],1)]),e._v(" "),t("br")]),e._v(" "),t("div",{staticClass:"container m-2 has-text-centered"},[t("b-button",{on:{click:e.close}},[t("strong",[e._v("Cerrar")])]),e._v(" "),t("b-button",{attrs:{type:"is-success"},on:{click:e.createOrUpdate}},[t("strong",[e._v("Guardar")])])],1)])])],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{BInputWithValidation:n(683).default})}}]);