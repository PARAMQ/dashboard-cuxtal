(window.webpackJsonp=window.webpackJsonp||[]).push([[135],{1183:function(e,t,n){var r=n(503);n(35),n(128),e.exports={data:function(){return{total:0,list:[],checkedRows:[],defaultOpenedDetails:[],trashObject:null,isModalActive:!1,isLoading:!1,sortOrder:"desc",defaultSortOrder:"desc"}},watch:{listQuery:{handler:function(){this.list=[],this.getData(),window.scrollTo(0,0)},deep:!0}},computed:{trashObjectName:function(){return this.trashObject?this.trashObject.name:null}},methods:{getData:function(){var e=this;return r(regeneratorRuntime.mark((function t(){var data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,e.listQuery.offset=e.listQuery.limit*(e.listQuery.page-1),t.next=5,e.$store.dispatch("modules/"+e.action,e.listQuery);case 5:data=t.sent,e.total=data.count,e.list=data.results,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),e.$buefy.toast.open({message:"Algo ha salido mal :(... Intenta de nuevo!",type:"is-danger",queue:!1});case 13:return t.prev=13,e.isLoading=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,10,13,16]])})))()},onSort:function(e,t){var n=e;this.sortField=e,this.sortOrder=t,"desc"===t&&(n="-"+e),this.listQuery.ordering=n},onCollapse:function(e){this.defaultOpenedDetails=[e[this.key]]},trashModal:function(e){this.trashObject=e,this.isModalActive=!0},trashCancel:function(){this.isModalActive=!1}}}},1184:function(e,t,n){"use strict";n(894)},1185:function(e,t,n){var r=n(165),c=n(494),o=n(678),l=r((function(i){return i[1]})),d=c(o);l.push([e.i,".name:hover{cursor:pointer}tr.is-success{background:#28a745}tr.is-info{background:#000408}tr.is-danger{background:#f02516}tr.is-warning{background:#fca503}.card{background:#fff}.hero.is-fullheight{background-color:rgba(4,3,3,.604);background-image:url("+d+");background-origin:content-box;background-position:50%;background-repeat:no-repeat;background-size:100%}",""]),l.locals={},e.exports=l},1186:function(e,t,n){"use strict";n(895)},1187:function(e,t,n){var r=n(165)((function(i){return i[1]}));r.push([e.i,".has-text-orange[data-v-12669f64]{color:orange}",""]),r.locals={},e.exports=r},1249:function(e,t,n){"use strict";n.r(t);var r=n(5),table=(n(59),n(38),n(116),n(35),n(1183)),c={name:"Home",mixins:[n.n(table).a],fetch:function(){this.$store.commit("setTitleStack",["Inicio"])},created:function(){return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},data:function(){return{series:[],seriesBinnacles:[],seriesPlanification:[],options:{labels:["Opiniones técnicas","Denuncias"]},optionsBinnacle:{labels:["Revisado","En revisión","Por revisar"]},optionsPlanification:{labels:["En proceso","Finalizado","Por comenzar"]},dateNow:new Date,techOps:[],techOp:[],vegetation:[],complaints:[],programmed:[],planification:[],binnacles:[]}},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getComplaints();case 2:return t.next=4,e.getTechOp();case 4:return t.next=6,e.getBinnacles();case 6:return t.next=8,e.getPlanifications();case 8:e.getVegetation(),e.getInfoDonnut();case 10:case"end":return t.stop()}}),t)})))()},methods:{getBinnacles:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,c,o,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("modules/binnacles/getBinnacles");case 3:n=t.sent,r=new Date,e.binnacles=n.filter((function(e){if(new Date(e.date).getFullYear()===r.getFullYear())return e})),c=e.binnacles.filter((function(e){return"revisado"===e.status})),o=e.binnacles.filter((function(e){return"en-revision"===e.status})),l=e.binnacles.filter((function(e){return"por-revisar"===e.status})),e.seriesBinnacles=[Number(c.length),Number(o.length),Number(l.length)],t.next=14;break;case 12:t.prev=12,t.t0=t.catch(0);case 14:case"end":return t.stop()}}),t,null,[[0,12]])})))()},getComplaints:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("modules/complaint/getComplaints");case 3:n=t.sent,e.complaints=n,e.complaint=n.length,console.log(e.complaint),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getTechOp:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("modules/technicalOp/getTechnicalOps");case 3:n=t.sent,e.techOps=n,e.techOp=n.length,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},getVegetation:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("modules/vegetation/getVegetations");case 3:n=t.sent,e.vegetation=n,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},getPlanifications:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,c,o,l,d,f,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Date,r=n.getFullYear(),c=new Date(r,0,1),o=new Date(r,11,31),t.prev=4,t.next=7,e.$store.dispatch("modules/plans/getPlans",[c,o]);case 7:l=t.sent,e.planification=l,d=l.filter((function(e){return"process"===e.estatus})),f=l.filter((function(e){return"finally"===e.estatus})),h=l.filter((function(e){return"active"===e.estatus})),e.seriesPlanification=[Number(d.length),Number(f.length),Number(h.length)],t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[4,15]])})))()},getInfoDonnut:function(){this.series=[Number(this.techOp),Number(this.complaint)]}},head:function(){return{title:"Inicio — Cuxtal"}}},o=(n(1184),n(1186),n(89)),component=Object(o.a)(c,(function(){var e=this,t=e._self._c;return t("section",{staticClass:"hero is-fullheight"},[t("div",{staticClass:"hero-body"},[t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("div",{staticClass:"card"},[t("header",{staticClass:"card-header"},[t("p",{staticClass:"card-header-title"},[e._v("\n              Recorridos del año "+e._s(e.dateNow.getFullYear())+" (año actual)\n            ")])]),e._v(" "),e.seriesPlanification.length>0?t("div",{staticClass:"card-content is-flex is-justify-content-center"},[t("apexchart",{attrs:{width:"380",type:"donut",options:e.optionsPlanification,series:e.seriesPlanification}})],1):t("div",{staticClass:"card-content has-text-centered"},[t("p",[e._v("No hay datos por mostrar")])])])]),e._v(" "),t("div",{staticClass:"column"},[t("div",{staticClass:"card"},[t("header",{staticClass:"card-header"},[t("p",{staticClass:"card-header-title"},[e._v("\n              Bitácoras del año "+e._s(e.dateNow.getFullYear())+" (año actual)\n            ")])]),e._v(" "),e.seriesBinnacles.length>0?t("div",{staticClass:"card-content is-flex is-justify-content-center"},[t("apexchart",{attrs:{width:"380",type:"donut",options:e.optionsBinnacle,series:e.seriesBinnacles}})],1):t("div",{staticClass:"card-content has-text-centered"},[t("p",[e._v("No hay datos por mostrar")])])])]),e._v(" "),t("div",{staticClass:"column"},[t("div",{staticClass:"card"},[e._m(0),e._v(" "),e.series.length>0?t("div",{staticClass:"card-content is-flex is-justify-content-center"},[t("apexchart",{attrs:{width:"380",type:"donut",options:e.options,series:e.series}})],1):t("div",{staticClass:"card-content has-text-centered"},[t("p",[e._v("No hay datos por mostrar")])])])])])])])}),[function(){var e=this._self._c;return e("header",{staticClass:"card-header"},[e("p",{staticClass:"card-header-title"},[this._v("\n              Segumiento\n            ")])])}],!1,null,"12669f64",null);t.default=component.exports},678:function(e,t,n){e.exports=n.p+"img/background.461462f.jpg"},894:function(e,t,n){var content=n(1185);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(166).default)("1bf6578f",content,!0,{sourceMap:!1})},895:function(e,t,n){var content=n(1187);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(166).default)("e98cf9fa",content,!0,{sourceMap:!1})}}]);